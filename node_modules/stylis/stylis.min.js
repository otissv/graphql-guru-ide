!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e()):window.stylis=e()}(function(){"use strict";function e(c,r,f,n){for(var l,o,b=0,u=0,k=0,g=0,p=0,w=0,A=0,C=0,m=0,v=0,y=0,j=0,z=0,F=0,N=0,U=0,me=0,ve=0,Oe=0,je=f.length,ze=je-1,Ee="",Ge="",He="",Ie="",Je="",Ke="";N<je;){if(A=f.charCodeAt(N),u+g+k+b===0){if(N===ze){if(U>0)Ge=Ge.replace(d,"");if((Ge=Ge.trim()).length>0){switch(A){case Q:case M:case q:case L:case K:break;default:Ge+=f.charAt(N)}A=q}}if(1===me)switch(A){case E:case X:me=0;break;case M:case L:case K:case Q:break;default:N--,A=q}switch(A){case E:for(Ge=Ge.trim(),p=Ge.charCodeAt(0),y=1,N++;N<je;){switch(A=f.charCodeAt(N)){case E:y++;break;case D:y--}if(0===y)break;He+=f.charAt(N++)}if(p===re)p=(Ge=Ge.replace(h,"").trim()).charCodeAt(0);switch(p){case P:if(U>0)Ge=Ge.replace(d,"");switch(w=Ge.charCodeAt(1)){case ke:case ue:case ne:case le:l=r;break;default:l=$e}if(He=e(r,l,He,w),Oe=He.length,ye>0)if(l=a($e,Ge,ve),o=i(Se,He,l,r,pe,ge,Ie.length,w),Ge=l.join(""),void 0!==o)if(0===(Oe=(He=o.trim()).length))w=0,He="";if(Oe>0)switch(w){case ke:case ue:case ne:case le:He=Ge+"{"+He+"}";break;case fe:Ge=Ge.replace(x,"$1 $2"+(qe>0?De:"")),He=Ge+"{"+He+"}",He="@"+(Ce>0?B+He+"@"+He:He);break;default:He=Ge+He}else He="";break;default:He=e(r,a(r,Ge,ve),He,n)}Je+=He,j=0,me=0,F=0,U=0,ve=0,z=0,Ge="",He="",N++;break;case D:case q:if(Ge=(U>0?Ge.replace(d,""):Ge).trim(),A!==D||Ge.length>0){if(0===F)if(p=Ge.charCodeAt(0),(p===T||p>96&&p<123)&&Ge.indexOf(" "))Ge=Ge.replace(" ",": ");if(ye>0)if(void 0!==(o=i(Ne,Ge,r,c,pe,ge,Ie.length,n)))if(0===(Ge=o.trim()).length)Ge="\0\0";switch(p=Ge.charCodeAt(0),w=Ge.charCodeAt(1),p+w){case re:break;case de:case be:Ke+=Ge+f.charAt(N);break;default:Ie+=F>0?s(Ge,p,w,Ge.charCodeAt(2)):Ge+";"}}j=0,me=0,F=0,U=0,ve=0,Ge="",N++}}switch(A){case L:case K:if(u+g+k+b+xe===0)switch(v){case P:case se:case ae:case V:case ce:case ee:case T:case Y:case X:case q:case E:case D:break;default:if(F>0)me=1}if(u===ee)u=0;if(ye*We>0)i(Fe,Ge,r,c,pe,ge,Ie.length,n);ge=1,pe++;break;default:if(ge++,A===M)break;switch(Ee=f.charAt(N),A){case re:Ee="\\0";break;case te:Ee="\\f";break;case ie:Ee="\\v";break;case R:if(g+u+b===0&&Ae*C===Q)ve=1,U=1,Ee="\f"+Ee;break;case 108:if(g+u+b+we===0&&F>0)switch(N-F){case 2:if(C===oe&&f.charCodeAt(N-3)===Y)we=C;case 8:if(m===he)we=m}break;case Y:if(g+u+b===0)F=N;break;case X:if(u+k+g+b===0)U=1,Ee+="\r";break;case _:if(0===u)g=g===A?0:0===g?A:g;break;case Z:if(0===u)g=g===A?0:0===g?A:g;break;case I:if(g+u+k===0)b++;break;case J:if(g+u+k===0)b--;break;case H:if(g+u+b===0){if(N===ze)ze++,je++;k--}break;case G:if(g+u+b===0){if(0===j)switch(2*C+3*m){case 533:break;default:y=0,j=1}k++}break;case P:if(u+k+g+b+F+z===0)z=1;break;case V:case ee:if(g+b+k>0)break;switch(u){case 0:switch(2*A+3*f.charCodeAt(N+1)){case 235:u=ee;break;case 220:u=V}break;case V:if(A===ee&&C===V)Ee="",u=0}}if(0===u){if(Ae+g+b+z===0&&n!==fe&&A!==q)switch(A){case X:case se:case ae:case ce:case H:case G:if(0===j){switch(C){case M:case Q:case K:case L:Ee+="\0";break;default:Ee="\0"+Ee+(A===X?"":"\0")}U=1}else switch(A){case G:j=++y;break;case H:if(0===(j=--y))U=1,Ee+="\0"}break;case Q:switch(C){case re:case E:case D:case q:case X:case te:case M:case Q:case K:case L:break;default:if(0===j)U=1,Ee+="\0"}}if(Ge+=Ee,A!==Q)v=A}}m=C,C=A,N++}if(Oe=Ie.length,Oe>0&&ye>0)if(o=i(Be,Ie,r,c,pe,ge,Oe,n),void 0!==o)Oe=(Ie=o).length;if(Oe>0){if(0===Ae&&n!==fe)t(r);if(Ie=r.join(",")+"{"+Ie+"}",Ce*we>0){switch(we){case he:Ie=Ie.replace(O,":"+S+"$1")+Ie;break;case oe:Ie=Ie.replace($,"::"+B+"input-$1")+Ie.replace($,"::"+S+"$1")+Ie.replace($,":"+W+"input-$1")+Ie}we=0}}return Ke+Ie+Je}function a(e,a,s){var r=a.trim().split(A),t=r,i=r.length,f=e.length;switch(f){case 0:case 1:for(var n=0,l=0===f?"":e[0]+" ";n<i;n++)t[n]=c(l,t[n],s,f).trim();break;default:for(var n=0,o=0,t=[];n<i;n++)for(var h=0;h<f;h++)t[o++]=c(e[h]+" ",r[n],s,f).trim()}return t}function c(e,a,c,s){var r=a,t=r.charCodeAt(0);if(t<33)t=(r=r.trim()).charCodeAt(0);switch(t){case R:switch(Ae+s){case 0:case 1:if(0===e.trim().length)break;default:return r.replace(C,e.trim())}break;case Y:switch(r.charCodeAt(1)){case 103:if(me>0&&Ae>0)return r.replace(m,"$1").replace(C,Ge);break;default:return e.trim()+r}default:if(c*Ae>0&&r.indexOf("\f")>0)return r.replace(C,e.trim())}return e+r}function s(e,a,c,s){var t,i=e+";",f=0,n=2*a+3*c+4*s;if(944===n)i=r(i);else if(Ce>0)switch(n){case 883:if(i.charCodeAt(8)===T)i=B+i+i;break;case 978:i=B+i+S+i+i;break;case 1019:case 983:i=B+i+S+i+W+i+i;break;case 932:i=B+i+W+i+i;break;case 964:i=B+i+W+"flex-"+i+i;break;case 1023:t=i.substring(i.indexOf(":",15)).replace("flex-",""),i=B+"box-pack"+t+B+i+W+"flex-pack"+t+i;break;case 975:switch(f=(i=e).length-10,t=(33===i.charCodeAt(f)?i.substring(0,f):i).substring(8).trim(),n=t.charCodeAt(0)+(0|t.charCodeAt(7))){case 203:if(t.charCodeAt(8)>110)i=i.replace(t,B+t)+";"+i;break;case 207:case 102:i=i.replace(t,B+(n>102?"inline-":"")+"box")+";"+i.replace(t,B+t)+";"+i.replace(t,W+t+"box")+";"+i}i+=";";break;case 938:if(i.charCodeAt(5)===T)switch(i.charCodeAt(6)){case 105:t=i.replace("-items",""),i=B+i+B+"box-"+t+W+"flex-"+t+i;break;case 115:i=B+i+W+"flex-item-"+i.replace("-self","")+i;break;default:i=B+i+W+"flex-line-pack"+i.replace("align-content","")+i}break;case 1005:if(u.test(i))i=i.replace(b,": "+B)+i.replace(b,": "+S)+i;break;case 953:if((f=i.indexOf("-content",9))>0)t=i.substring(f-3),i="width:"+B+t+"width:"+S+t+"width:"+t;break;case 962:case 1015:if(i=B+i+(102===i.charCodeAt(5)?W+i:"")+i,c+s===211&&105===i.charCodeAt(13)&&i.indexOf("transform",10)>0)i=i.substring(0,i.indexOf(";",27)+1).replace(k,"$1"+B+"$2")+i}return i}function r(e){var a=e.length,c=e.indexOf(":",9)+1,s=e.substring(0,c).trim(),r=e.substring(c,a-1).trim(),t="";if(e.charCodeAt(9)!==T)for(var i=r.split(g),f=0,c=0,a=i.length;f<a;c=0,f++){for(var n=i[f],l=n.split(p);n=l[c];){var o=n.charCodeAt(0);if(1===qe&&(o>P&&o<90||o>96&&o<123||o===U||o===T&&n.charCodeAt(1)!==T))switch(isNaN(parseFloat(n))+(n.indexOf("(")!==-1)){case 1:switch(n){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reversed":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:n+=De}}l[c++]=n}t+=(0===f?"":",")+l.join(" ")}else t+=110===e.charCodeAt(10)?r+(1===qe?De:""):r;return t=s+t+";",Ce>0?B+t+t:t}function t(e){for(var a,c,s=0,r=e.length;s<r;s++){for(var t=e[s].split(w),i="",f=0,n=0,l=0,o=0,h=t.length;f<h;f++){if(0===(n=(c=t[f]).length)&&h>1)continue;if(l=i.charCodeAt(i.length-1),o=c.charCodeAt(0),a="",0!==f)switch(l){case V:case se:case ae:case ce:case Q:case G:break;default:a=" "}switch(o){case R:c=a+Ee;case se:case ae:case ce:case Q:case H:case G:break;case I:c=a+c+Ee;break;case Y:switch(2*c.charCodeAt(1)+3*c.charCodeAt(2)){case 530:if(me>0){c=a+c.substring(8,n-1);break}default:if(f<1||t[f-1].length<1)c=a+Ee+c}break;case X:a="";default:if(n>1&&c.indexOf(":")>0)c=a+c.replace(N,"$1"+Ee+"$2");else c=a+c+Ee}i+=c}e[s]=i.replace(d,"").trim()}}function i(e,a,c,s,r,t,i,f){for(var n,l=0,h=a;l<ye;l++)switch(n=Oe[l].call(o,e,h,c,s,r,t,i,f)){case void 0:case false:case true:case null:break;default:h=n}switch(h){case void 0:case false:case true:case null:case a:break;default:return h}}function f(e){return e.replace(d,"").replace(y,"").replace(j,"$1").replace(z,"$1").replace(F," ")}function n(e){switch(e){case void 0:case null:ye=Oe.length=0;break;default:switch(e.constructor){case Array:for(var a=0,c=e.length;a<c;a++)n(e[a]);break;case Function:Oe[ye++]=e;break;case Boolean:We=0|!!e}}return n}function l(e){for(var a in e){var c=e[a];switch(a){case"keyframe":qe=0|c;break;case"global":me=0|c;break;case"cascade":Ae=0|c;break;case"compress":ve=0|c;break;case"prefix":Ce=0|c;break;case"semicolon":xe=0|c}}return l}function o(a,c){var s=a,r=s.charCodeAt(0);if(r<33)r=(s=s.trim()).charCodeAt(0);if(qe>0)De=s.replace(v,r===I?"":"-");if(r=1,1===Ae)Ge=s;else Ee=s;var t=[Ge];if(ye>0)i(ze,c,t,t,pe,ge,0,0);var n=e($e,t,c,0);if(ye>0){var l=i(je,n,t,t,pe,ge,n.length,0);if(void 0!==l)if("string"!=typeof(n=l))r=0}return De="",Ge="",Ee="",we=0,pe=1,ge=1,ve*r===0?n:f(n)}var h=/^\0+/g,d=/[\0\r\f]/g,b=/: */g,u=/zoo|gra/,k=/([,: ])(transform)/g,g=/,+\s*(?![^(]*[)])/g,p=/ +\s*(?![^(]*[)])/g,w=/ *[\0] */g,A=/,\r+?/g,C=/\f?&/g,m=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,v=/\W+/g,x=/@(k\w+)\s*(\S*)\s*/,$=/::(place)/g,O=/:(read-only)/g,y=/\s+(?=[{\];=:>])/g,j=/([[}=:>])\s+/g,z=/(\{[^{]+?);(?=\})/g,F=/\s{2,}/g,N=/([^\(])(:+) */g,B="-webkit-",S="-moz-",W="-ms-",q=59,D=125,E=123,G=40,H=41,I=91,J=93,K=10,L=13,M=9,P=64,Q=32,R=38,T=45,U=95,V=42,X=44,Y=58,Z=39,_=34,ee=47,ae=62,ce=43,se=126,re=0,te=12,ie=11,fe=107,ne=109,le=115,oe=112,he=111,de=169,be=163,ue=112,ke=100,ge=1,pe=1,we=0,Ae=1,Ce=1,me=1,ve=0,xe=0,$e=[],Oe=[],ye=0,je=-2,ze=-1,Fe=0,Ne=1,Be=2,Se=3,We=0,qe=1,De="",Ee="",Ge="";return o.use=n,o.set=l,o});